(this["webpackJsonpeazley-budgets"]=this["webpackJsonpeazley-budgets"]||[]).push([[0],{102:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(14),s=a.n(o),i=(a(102),a(7)),r=a(8),l=a(10),u=a(9),h=a(36),d=a(17),m=a(140),p=a(144),E=a(112),y=a(145),f=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={count:0},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(m.a,{position:"static"},c.a.createElement(p.a,{style:{justifyContent:"space-between",display:"flex"}},c.a.createElement(E.a,{variant:"h6"},"Eazley Budgets"),c.a.createElement(y.a,{color:"inherit",style:{float:"right"},onClick:function(){return e.props.history.push("/login")}},"Login")))}}]),a}(c.a.Component),v=a(146),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{history:this.props.history}),c.a.createElement(v.a,{container:!0,justify:"space-around",style:{paddingTop:"10px"}}))}}]),a}(c.a.Component),C=a(63),O=a.n(C),g=a(79),A=a(11),j=a(165),_={API_SERVER:"http://localhost:3001/api"},T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeEmail=n.onChangeEmail.bind(Object(A.a)(n)),n.onChangePass=n.onChangePass.bind(Object(A.a)(n)),n.login=n.login.bind(Object(A.a)(n)),n.state={userEmail:"",userPassword:""},n.styles={form:{width:"67%"},inputContainer:{padding:"10px",width:"100%",display:"flex",justifyContent:"center"},inputText:{maxWidth:"400px",minWidth:"100px",width:"100%"}},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onChangeEmail",value:function(e){this.setState({userEmail:e.target.value})}},{key:"onChangePass",value:function(e){this.setState({userPassword:e.target.value})}},{key:"login",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t,a,n,c=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.userEmail,a=this.state.userPassword,n=JSON.stringify({email:t,password:a}),fetch("".concat(_.API_SERVER,"/user/login"),{credentials:"include",body:n,headers:{"content-type":"application/json"},method:"POST"}).then((function(e){return e.json()})).then((function(e){"pass"===e.status?c.props.history.push("/dashboard"):alert("Wrong credentials")}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{history:this.props.history}),c.a.createElement(v.a,{container:!0,justify:"center",alignContent:"center",style:{height:"calc( 100vh - 200px )"}},c.a.createElement("form",{noValidate:!0,autoComplete:"off",style:this.styles.form},c.a.createElement("h1",{style:{textAlign:"center"}}," LOGIN "),c.a.createElement("div",{style:this.styles.inputContainer},c.a.createElement(j.a,{style:this.styles.inputText,id:"outlined-basic",label:"Email",variant:"outlined",type:"email",value:this.state.userEmail,onChange:this.onChangeEmail})),c.a.createElement("div",{style:this.styles.inputContainer},c.a.createElement(j.a,{style:this.styles.inputText,id:"outlined-basic",label:"Password",variant:"outlined",type:"password",value:this.state.userPassword,onChange:this.onChangePass})),c.a.createElement("div",{style:this.styles.inputContainer},c.a.createElement(y.a,{color:"primary",variant:"contained",onClick:this.login}," Login ")),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("small",null," Don't have any account ? Sign up ",c.a.createElement(h.b,{to:"/signup"}," here ")," ")))))}}]),a}(c.a.Component),w=a(149),S=a(150),x=a(83),k=a.n(x),D=a(81),N=a.n(D),P=a(82),M=a.n(P),R=a(84),L=a.n(R),I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(m.a,{position:"fixed"},c.a.createElement(p.a,{style:{justifyContent:"space-between",display:"flex"}},c.a.createElement(E.a,{variant:"h6",noWrap:!0},"Accounts"),c.a.createElement("div",null,c.a.createElement(w.a,{"aria-label":"show 4 new mails",color:"inherit"},c.a.createElement(S.a,{badgeContent:4,color:"secondary"},c.a.createElement(N.a,null))),c.a.createElement(w.a,{"aria-label":"show 17 new notifications",color:"inherit"},c.a.createElement(S.a,{badgeContent:17,color:"secondary"},c.a.createElement(M.a,null))),c.a.createElement(w.a,{edge:"end","aria-label":"account of current user","aria-haspopup":"true",color:"inherit"},c.a.createElement(k.a,null)),c.a.createElement(w.a,{"aria-label":"show more","aria-haspopup":"true",color:"inherit"},c.a.createElement(L.a,null)))))}}]),a}(c.a.Component);function U(e){return c.a.createElement(v.a,{container:!0,justify:"flex-start",style:{marginTop:"100px"}},c.a.createElement(v.a,{container:!0,justify:"center",direction:"column",alignContent:"center"},c.a.createElement("h1",{style:{textAlign:"center"}}," ",e.title," "),c.a.createElement("div",null,c.a.createElement("h1",{style:{fontSize:"400%",marginTop:"20px",textAlign:"center",color:e.balanceColor}}," $ ",e.balance," "))))}var F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(i.a)(this,a);var c=(n=t.call(this,e)).normalizeProps(n.props);return n.state={accounts:n.props.accounts,balance:c,balanceColor:c>0?"green":"red"},n}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this.normalizeProps(e);this.setState({accounts:e.accounts,balance:t,balanceColor:t>0?"green":"red"})}},{key:"normalizeProps",value:function(e){for(var t=0,a=e.accounts.map((function(e){return e.funds})),n=0;n<a.length;n++)t+=a[n];return t}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(U,{title:"Account Summary",balanceColor:this.state.balanceColor,balance:this.state.balance}))}}]),a}(c.a.Component),W=a(87),H=a(168),V=a(152),z=a(66),J=a(16),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{OPEN_ACC_MODAL:!1,OPEN_TRANS_MODAL:!1,OPEN_DEL_AC_MODAL:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_ADD_ACCOUNT_MODAL":return Object(J.a)(Object(J.a)({},e),{},{OPEN_ACC_MODAL:!0});case"CLOSE_ADD_ACCOUNT_MODAL":return Object(J.a)(Object(J.a)({},e),{},{OPEN_ACC_MODAL:!1});case"CLOSE_ADD_TRANSACTION_MODAL":return Object(J.a)(Object(J.a)({},e),{},{OPEN_TRANS_MODAL:!1});case"OPEN_ADD_TRANSACTION_MODAL":return Object(J.a)(Object(J.a)({},e),{},{OPEN_TRANS_MODAL:!0});case"OPEN_DELETE_ACCOUNT_MODAL":return Object(J.a)(Object(J.a)({},e),{},{OPEN_DEL_AC_MODAL:!0});case"CLOSE_DELETE_ACCOUNT_MODAL":return Object(J.a)(Object(J.a)({},e),{},{OPEN_DEL_AC_MODAL:!1});default:return e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{update:"none"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ACCOUNTS":return Object(J.a)(Object(J.a)({},e),{},{update:"accounts"});case"UPDATE_TRANSACTIONS":return Object(J.a)(Object(J.a)({},e),{},{update:"transactions"});case"RESET":return Object(J.a)(Object(J.a)({},e),{},{update:"none"});default:return e}},G=Object(z.a)({nav:B,http:q}),Y=Object(z.b)(G),$=function(e){switch(e){case"open":return{type:"OPEN_ADD_ACCOUNT_MODAL"};case"close":return{type:"CLOSE_ADD_ACCOUNT_MODAL"};case"open_transaction_modal":return{type:"OPEN_ADD_TRANSACTION_MODAL"};case"close_transaction_modal":return{type:"CLOSE_ADD_TRANSACTION_MODAL"};case"open_delete_ac_modal":return{type:"OPEN_DELETE_ACCOUNT_MODAL"};case"close_delete_ac_modal":return{type:"CLOSE_DELETE_ACCOUNT_MODAL"};default:return{type:"CLOSE_ADD_ACCOUNT_MODAL"}}},K=a(163),Q=a(111),X=a(167),Z=a(162),ee=a(164),te=a(151),ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).severities={success:"success",warning:"warning"},e}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(ee.a,{severity:this.severities[this.props.type]},c.a.createElement(te.a,null,this.props.title),c.a.createElement("div",null,this.props.description)))}}]),a}(c.a.Component),ne={backgroundColor:"white",width:"400px",minHeight:"500px",maxHeight:"550px",display:"flex",flexDirection:"column"},ce={display:"flex",justifyContent:"center",alignItems:"center"},oe={margin:"10px",textAlign:"center"},se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={accountType:"NONE",accName:"",accFunds:0,accDescription:"",creationSuccess:!1},n.handleAccTypeChange=n.handleAccTypeChange.bind(Object(A.a)(n)),n.onChangeAccDesc=n.onChangeAccDesc.bind(Object(A.a)(n)),n.onChangeAccName=n.onChangeAccName.bind(Object(A.a)(n)),n.onChangeFundsAmt=n.onChangeFundsAmt.bind(Object(A.a)(n)),n.onCreateAccount=n.onCreateAccount.bind(Object(A.a)(n)),n.onCloseModal=n.onCloseModal.bind(Object(A.a)(n)),n}return Object(r.a)(a,[{key:"handleAccTypeChange",value:function(e){var t=e.target.value;this.setState({accountType:t})}},{key:"onChangeAccName",value:function(e){this.setState({accName:e.target.value})}},{key:"onChangeFundsAmt",value:function(e){this.setState({accFunds:e.target.value})}},{key:"onChangeAccDesc",value:function(e){this.setState({accDescription:e.target.value})}},{key:"onCreateAccount",value:function(){var e=this;fetch("".concat(_.API_SERVER,"/account/create"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(this.state),credentials:"include"}).then((function(t){201===t.status&&(e.setState({creationSuccess:t.ok}),Y.dispatch({type:"UPDATE_ACCOUNTS"}))}))}},{key:"onCloseModal",value:function(){Y.dispatch($("close")),this.setState({creationSuccess:!1})}},{key:"render",value:function(){var e;return e=this.state.creationSuccess?c.a.createElement(ae,{type:"success",title:"Account Created",description:"Account was created successfully !!"}):c.a.createElement("span",null),c.a.createElement(K.a,{open:this.props.isOpen,style:ce},c.a.createElement(Q.a,{elevation:10,style:ne},c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("h1",null," Create Account ")),c.a.createElement("div",{style:oe},c.a.createElement(j.a,{variant:"outlined",label:"Account Name",placeholder:"Enter Account Name",onChange:this.onChangeAccName})),c.a.createElement("div",{style:oe},c.a.createElement(j.a,{variant:"outlined",label:"Description",placeholder:"Enter Description",style:{height:"80px"},multiline:!0,rowsMax:4,onChange:this.onChangeAccDesc})),c.a.createElement("div",{style:oe},c.a.createElement(X.a,{id:"demo-simple-select-outlined-label"},"Account Type"),c.a.createElement(Z.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:this.state.accountType,onChange:this.handleAccTypeChange,label:"Age"},c.a.createElement(H.a,{value:"NONE"},c.a.createElement("em",null,"None")),c.a.createElement(H.a,{value:"DEBIT"},"Debit"),c.a.createElement(H.a,{value:"CREDIT"},"Credit"))),c.a.createElement("div",{style:oe},c.a.createElement(j.a,{variant:"outlined",label:"Funds Amount",placeholder:"Funds To Start With",type:"number",onChange:this.onChangeFundsAmt})),e,c.a.createElement("div",{style:oe},c.a.createElement(y.a,{style:{margin:"10px"},variant:"contained",color:"primary",onClick:this.onCreateAccount,disabled:this.state.creationSuccess}," Create "),c.a.createElement(y.a,{style:{margin:"10px"},variant:"outlined",onClick:this.onCloseModal}," ",this.state.creationSuccess?"Close":"Cancel"," "))))}}]),a}(c.a.Component),ie=a(153),re=a(154),le=a(155),ue=a(156),he=a(157),de=a(158),me=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(i.a)(this,a);var c=(n=t.call(this,e)).mapDataToRows(n.props);return n.state={isAccModalOpen:!1,rows:c,anchorEl:null},n.toggleAddAccountModal=n.toggleAddAccountModal.bind(Object(A.a)(n)),n.handleAccountClick=n.handleAccountClick.bind(Object(A.a)(n)),n.handleContextMenu=n.handleContextMenu.bind(Object(A.a)(n)),n.handleOnMenuClose=n.handleOnMenuClose.bind(Object(A.a)(n)),n}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this.mapDataToRows(e);this.setState({rows:t})}},{key:"mapDataToRows",value:function(e){var t=this;return e.accounts.map((function(e){return t.createData(e.id,e.accountName,e.accountType,e.funds,e.description,"No")}))}},{key:"toggleAddAccountModal",value:function(){var e=this;Y.subscribe((function(){var t=Y.getState().nav.OPEN_ACC_MODAL;e.setState({isAccModalOpen:t})}));var t=this.state.isAccModalOpen?"close":"open";Y.dispatch($(t))}},{key:"createData",value:function(e,t,a,n,c,o){return{id:e,accountName:t,type:a,funds:n,description:c,hasLimitReached:o}}},{key:"handleAccountClick",value:function(e){this.props.history.push("/dashboard/account/".concat(e))}},{key:"handleContextMenu",value:function(e){e.preventDefault(),this.setState({anchorEl:e.currentTarget})}},{key:"handleOnMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this;return c.a.createElement(v.a,{container:!0,justify:"flex-start"},c.a.createElement("div",{style:{width:"100%"}},c.a.createElement("h1",{style:{textAlign:"center"}}," Accounts "),c.a.createElement("div",{style:{padding:"10px",justifyContent:"flex-end",display:"flex"}},c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:this.toggleAddAccountModal}," ",c.a.createElement(V.a,null)," ")),c.a.createElement(se,{isOpen:this.state.isAccModalOpen}),c.a.createElement(ie.a,{component:Q.a},c.a.createElement(re.a,{"aria-label":"simple table"},c.a.createElement(le.a,null,c.a.createElement(ue.a,null,c.a.createElement(he.a,null,"Account Name"),c.a.createElement(he.a,null," Type "),c.a.createElement(he.a,null,"Funds"),c.a.createElement(he.a,null,"Description"),c.a.createElement(he.a,null,"  "))),c.a.createElement(de.a,null,this.state.rows.map((function(t){return c.a.createElement(ue.a,{key:t.id,onDoubleClick:function(){return e.handleAccountClick(t.id)},onContextMenu:e.handleContextMenu},c.a.createElement(he.a,{component:"th",scope:"row"},t.accountName),c.a.createElement(he.a,null,t.type),c.a.createElement(he.a,null,t.funds),c.a.createElement(he.a,{align:"left"},t.description),c.a.createElement(he.a,null,c.a.createElement(W.a,{id:"simple-menu",keepMounted:!0,anchorEl:e.state.anchorEl,open:Boolean(e.state.anchorEl),onClose:e.handleOnMenuClose},c.a.createElement(H.a,{onClose:e.handleOnMenuClose,onClick:function(){e.handleAccountClick(t.id)}}," View Transactions "))))})))))))}}]),a}(c.a.Component),pe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).__isMounted=!1,n.state={accounts:[]},n.authenticateUser(),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.__isMounted=!0,this.__isMounted&&(this.getAllAccounts(),Y.subscribe((function(){"accounts"===Y.getState().http.update&&(e.getAllAccounts(),Y.dispatch({type:"RESET"}))})))}},{key:"getAllAccounts",value:function(){var e=this;fetch("".concat(_.API_SERVER,"/account/all"),{credentials:"include",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({accounts:t})}))}},{key:"authenticateUser",value:function(){var e=this;fetch("".concat(_.API_SERVER,"/user/authenticate"),{credentials:"include",method:"POST"}).then((function(t){403===t.status&&e.props.history.push("/login")}))}},{key:"componentWillUnmount",value:function(){this.__isMounted=!1}},{key:"render",value:function(){var e=c.a.createElement(F,{accounts:this.state.accounts}),t=c.a.createElement(me,{accounts:this.state.accounts,history:this.props.history});return c.a.createElement("div",null,c.a.createElement(I,{title:"Home"}),c.a.createElement("div",null,e),c.a.createElement("div",null,t))}}]),a}(c.a.Component),Ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={balance:0,balanceColor:"red"},n}return Object(r.a)(a,[{key:"normalizeProps",value:function(e){for(var t=0,a=e.transactions.map((function(e){return e.amount})),n=0;n<a.length;n++)t+=a[n];return this.setState({balance:t,balanceColor:t>0?"green":"red"}),t}},{key:"componentWillReceiveProps",value:function(e){this.normalizeProps(e)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(U,{title:"Transaction Summary",balance:this.state.balance,balanceColor:this.state.balanceColor}))}}]),a}(c.a.Component),ye={backgroundColor:"white",width:"400px",minHeight:"250px",maxHeight:"300px",display:"flex",flexDirection:"column"},fe={display:"flex",justifyContent:"center",alignItems:"center"},ve={margin:"10px",textAlign:"center"},be=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={submitSuccess:!1,accountInfo:{},amount:0},n.handleAmountChange=n.handleAmountChange.bind(Object(A.a)(n)),n.createTransaction=n.createTransaction.bind(Object(A.a)(n)),n.closeModal=n.closeModal.bind(Object(A.a)(n)),n}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({accountInfo:e.accountInfo})}},{key:"componentDidMount",value:function(){var e=this,t=Y.getState().nav.OPEN_TRANS_MODAL;this.setState({isModalOpen:t}),Y.subscribe((function(){var t=Y.getState().nav.OPEN_TRANS_MODAL;e.setState({isModalOpen:t})}))}},{key:"closeModal",value:function(){Y.dispatch($("close_transaction_modal")),this.setState({submitSuccess:!1})}},{key:"handleAmountChange",value:function(e){var t=e.target.value;this.setState({amount:t})}},{key:"createTransaction",value:function(){var e=this,t=this.state.accountInfo.id,a="".concat(this.state.amount),n=this.state.accountInfo.accountType;fetch("".concat(_.API_SERVER,"/transaction/create"),{method:"POST",body:JSON.stringify({accountID:t,amount:a,accountType:n}),headers:{"content-type":"application/json"},credentials:"include"}).then((function(t){201===t.status&&(Y.dispatch({type:"UPDATE_TRANSACTIONS"}),e.setState({submitSuccess:t.ok}))}))}},{key:"render",value:function(){var e;return e=this.state.submitSuccess?c.a.createElement(ae,{type:"success",title:"Account Created",description:"Account was created successfully !!"}):c.a.createElement("span",null),c.a.createElement(K.a,{open:this.state.isModalOpen||!1,style:fe},c.a.createElement(Q.a,{elevation:10,style:ye},c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("h1",null," Add Transaction ")),c.a.createElement("div",{style:ve},c.a.createElement(j.a,{variant:"outlined",label:"Funds Amount",placeholder:"Funds To Start With",type:"number",onChange:this.handleAmountChange})),e,c.a.createElement("div",{style:ve},c.a.createElement(y.a,{style:{margin:"10px"},variant:"contained",color:"primary",disabled:this.state.submitSuccess,onClick:this.createTransaction}," Add "),c.a.createElement(y.a,{style:{margin:"10px"},variant:"outlined",onClick:this.closeModal}," Close "))))}}]),a}(c.a.Component),Ce=a(159),Oe={backgroundColor:"white",width:"400px",minHeight:"100px",maxHeight:"550px",display:"flex",flexDirection:"column"},ge={display:"flex",justifyContent:"center",alignItems:"center"},Ae={margin:"10px",textAlign:"center"},je=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isOpen:!1,onTrue:!1},n}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.onTrue;this.setState({onTrue:t})}},{key:"componentDidMount",value:function(){var e=this;Y.subscribe((function(){var t=Y.getState().nav.OPEN_DEL_AC_MODAL;e.setState({isOpen:t})}))}},{key:"closeModal",value:function(){Y.dispatch($("close_delete_ac_modal"))}},{key:"render",value:function(){return c.a.createElement(K.a,{open:this.state.isOpen,style:ge},c.a.createElement(Q.a,{elevation:10,style:Oe},c.a.createElement(ae,{type:"warning",title:"Delete Account",description:"Are you sure that you want to do this ? Please Confirm."}),c.a.createElement("div",{style:Object(J.a)(Object(J.a)({},Ae),{},{padding:"10px"})},c.a.createElement("div",null,c.a.createElement(y.a,{style:{margin:"5px"},onClick:this.state.onTrue}," Yes "),c.a.createElement(y.a,{style:{margin:"5px"},variant:"outlined",onClick:this.closeModal}," No ")))))}}]),a}(c.a.Component),_e=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(i.a)(this,a);var c=(n=t.call(this,e)).mapDataToRow(n.props);return n.state={rows:c,accountInfo:{}},n.deleteAccount=n.deleteAccount.bind(Object(A.a)(n)),n}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this.mapDataToRow(e);this.setState({rows:t,accountInfo:e.accountInfo})}},{key:"mapDataToRow",value:function(e){var t=this;return e.transactions.map((function(e){return t.createData(e.id,e.amount,e.date,e.time)}))}},{key:"createData",value:function(e,t,a,n){return{id:e,amount:t,date:a,time:n}}},{key:"openTransactionModal",value:function(){Y.dispatch($("open_transaction_modal"))}},{key:"openConfirmDeleteAccountModal",value:function(){Y.dispatch($("open_delete_ac_modal"))}},{key:"deleteAccount",value:function(){var e=this;fetch("".concat(_.API_SERVER,"/account/delete/").concat(this.state.accountInfo.id),{credentials:"include",method:"DELETE"}).then((function(t){Y.dispatch($("close_delete_ac_modal")),e.props.history.push("/dashboard")}))}},{key:"render",value:function(){return c.a.createElement(v.a,{container:!0,justify:"flex-start"},c.a.createElement("div",{style:{width:"100%"}},c.a.createElement("h1",{style:{textAlign:"center"}}," Transactions "),c.a.createElement("div",{style:{padding:"10px",justifyContent:"flex-end",display:"flex"}},c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:this.openTransactionModal}," ",c.a.createElement(V.a,null)," "),c.a.createElement(y.a,{color:"primary",onClick:this.openConfirmDeleteAccountModal}," ",c.a.createElement(Ce.a,null)," ")),c.a.createElement(be,{accountInfo:this.state.accountInfo}),c.a.createElement(je,{onTrue:this.deleteAccount}),c.a.createElement(ie.a,{component:Q.a},c.a.createElement(re.a,{"aria-label":"simple table"},c.a.createElement(le.a,null,c.a.createElement(ue.a,null,c.a.createElement(he.a,null," Amount "),c.a.createElement(he.a,null," Date "),c.a.createElement(he.a,null," Time "))),c.a.createElement(de.a,null,this.state.rows.map((function(e){return c.a.createElement(ue.a,{key:e.id},c.a.createElement(he.a,{component:"th",scope:"row"},e.amount),c.a.createElement(he.a,null,e.date),c.a.createElement(he.a,null,e.time))})))))))}}]),a}(c.a.Component),Te=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={transactions:[],accountInfo:{}},n.authenticateUser(),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;Y.subscribe((function(){"transactions"===Y.getState().http.update&&(e.getAccountInfo(t.id),e.getTransactions(t.id),Y.dispatch({type:"RESET"}))})),this.getTransactions(t.id),this.getAccountInfo(t.id)}},{key:"authenticateUser",value:function(){var e=this;fetch("".concat(_.API_SERVER,"/user/authenticate"),{credentials:"include",method:"POST"}).then((function(t){403===t.status&&e.props.history.push("/login")}))}},{key:"getAccountInfo",value:function(e){var t=this;fetch("".concat(_.API_SERVER,"/account/info/").concat(e),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){t.setState({accountInfo:e})}))}},{key:"getTransactions",value:function(e){var t=this;fetch("".concat(_.API_SERVER,"/transaction/from-account/").concat(e),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){t.setState({transactions:e})}))}},{key:"render",value:function(){var e=c.a.createElement(Ee,{transactions:this.state.transactions});return c.a.createElement("div",null,c.a.createElement(I,{title:"Account"}),e,c.a.createElement(v.a,{container:!0,justify:"center"},c.a.createElement(Q.a,{style:{padding:"30px"},variant:"outlined",elevation:10},this.state.accountInfo.description)),c.a.createElement(_e,{transactions:this.state.transactions,accountInfo:this.state.accountInfo,history:this.props.history}))}}]),a}(c.a.Component),we=a(160),Se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={userEmail:"",password:"",confirmPassword:"",firstName:"",lastName:"",wrongPasswords:!1,passHelperText:"",inRequest:!1,emailError:!1,emailHelperText:""},n.styles={form:{width:"67%"},inputContainer:{padding:"10px",width:"100%",display:"flex",justifyContent:"center"},inputText:{maxWidth:"400px",minWidth:"100px",width:"100%"}},n.onChangePassword=n.onChangePassword.bind(Object(A.a)(n)),n.onChangeConfPassword=n.onChangeConfPassword.bind(Object(A.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(A.a)(n)),n.onChangeFirstName=n.onChangeFirstName.bind(Object(A.a)(n)),n.onChangeLastName=n.onChangeLastName.bind(Object(A.a)(n)),n.checkPasswords=n.checkPasswords.bind(Object(A.a)(n)),n.signup=n.signup.bind(Object(A.a)(n)),console.log(_),n}return Object(r.a)(a,[{key:"onChangeFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"onChangeLastName",value:function(e){this.setState({lastName:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({userEmail:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeConfPassword",value:function(e){this.setState({confirmPassword:e.target.value})}},{key:"checkPasswords",value:function(){return this.state.confirmPassword.length>0?this.state.password===this.state.confirmPassword?(this.setState({wrongPasswords:!1}),!0):(this.setState({wrongPasswords:!0,passHelperText:"Passwords don't match"}),!1):(this.setState({wrongPasswords:!0,passHelperText:"Please confirm your password"}),!1)}},{key:"signup",value:function(){var e=this;if(this.checkPasswords(),console.log(this.state.wrongPasswords),this.checkPasswords()){console.log(this.state),this.setState({inRequest:!0});var t=this.state.firstName,a=this.state.lastName,n=this.state.userEmail,c=this.state.password;fetch("".concat(_.API_SERVER,"/user/sign-up"),{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({firstName:t,lastName:a,userEmail:n,password:c})}).then((function(t){e.setState({inRequest:!1}),409===t.status||500===t.status?e.setState({emailError:!0,emailHelperText:"This email already exists"}):201===t.status&&e.props.history.push("/dashboard")}))}}},{key:"render",value:function(){var e=this.state.inRequest?c.a.createElement(we.a,null):c.a.createElement("div",null);return c.a.createElement("div",null,c.a.createElement(f,{history:this.props.history}),c.a.createElement(v.a,{container:!0,justify:"center",alignContent:"center",style:{height:"calc( 100vh - 200px )"}},c.a.createElement("form",{noValidate:!0,autoComplete:"off",style:this.styles.form},c.a.createElement("h1",{style:{textAlign:"center"}}," SIGN UP "),c.a.createElement("div",{style:this.styles.inputContainer},c.a.createElement(j.a,{style:this.styles.inputText,id:"outlined-basic",label:"First Name",variant:"outlined",type:"text",value:this.state.firstName,onChange:this.onChangeFirstName,placeholder:"Enter First Name"})),c.a.createElement("div",{style:this.styles.inputContainer},c.a.createElement(j.a,{style:this.styles.inputText,id:"outlined-basic",label:"Last Name",variant:"outlined",type:"text",value:this.state.lastName,onChange:this.onChangeLastName,placeholder:"Enter Last Name"})),c.a.createElement("div",{style:this.styles.inputContainer},c.a.createElement(j.a,{style:this.styles.inputText,id:"outlined-basic",label:"Email",variant:"outlined",type:"email",value:this.state.userEmail,onChange:this.onChangeEmail,placeholder:"Enter Email",error:this.state.emailError,helperText:this.state.emailHelperText})),c.a.createElement("div",{style:this.styles.inputContainer},c.a.createElement(j.a,{style:this.styles.inputText,id:"outlined-basic",label:"Password",variant:"outlined",type:"password",value:this.state.password,onChange:this.onChangePassword,placeholder:"Create Password"})),c.a.createElement("div",{style:this.styles.inputContainer},c.a.createElement(j.a,{style:this.styles.inputText,id:"outlined-basic",label:"Confirm Password",variant:"outlined",type:"password",value:this.state.confirmPassword,onChange:this.onChangeConfPassword,placeholder:"Confirm Your Password",error:this.state.wrongPasswords,helperText:this.state.passHelperText})),c.a.createElement("div",null,e),c.a.createElement("div",{style:this.styles.inputContainer},c.a.createElement(y.a,{color:"primary",variant:"contained",onClick:this.signup}," Sign Up ")),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("small",null," Already have any account ? Login ",c.a.createElement(h.b,{to:"/login"}," here ")," ")))))}}]),a}(c.a.Component),xe=a(86),ke=a(161),De=Object(xe.a)({palette:{secondary:{main:"#E33E7F"},primary:{main:"#1976d2"}}}),Ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(ke.a,{theme:De},c.a.createElement(h.a,null,c.a.createElement(d.c,null,c.a.createElement(d.a,{path:"/",component:b,exact:!0}),c.a.createElement(d.a,{path:"/login",component:T,exact:!0}),c.a.createElement(d.a,{path:"/signup",component:Se,exact:!0}),c.a.createElement(d.a,{path:"/dashboard",component:pe,exact:!0}),c.a.createElement(d.a,{path:"/dashboard/account/:id",component:Te}))))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=c.a.createElement(Ne,null);s.a.render(Pe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a(110)}},[[97,1,2]]]);
//# sourceMappingURL=main.251bb387.chunk.js.map